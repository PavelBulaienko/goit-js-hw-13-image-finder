{"version":3,"sources":["webpack:///./js/apiService.js","webpack:///./index.js","webpack:///./templates/renderImg.hbs"],"names":["page","ApiService","fetchByQuery","query","fetch","BASE_URL","response","json","data","console","log","resetPage","refs","input","document","querySelector","ulGalleryRef","loadMoreBtn","apiService","innerHTML","value","classList","remove","add","renderImages","hits","images","imgCardsMarkup","createElement","forEach","image","insertAdjacentHTML","imgTemplate","append","addEventListener","debounce","Handlebars","module","exports","template","container","depth0","helpers","partials","helper","alias1","nullContext","alias2","hooks","helperMissing","alias3","alias4","escapeExpression","lookupProperty","parent","propertyName","Object","prototype","hasOwnProperty","call"],"mappings":"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","file":"main.be515eac0e188bb4e708.js","sourcesContent":["const BASE_URL = 'https://pixabay.com/api/';\r\nconst KEY = '21310790-6d6680180298903e41d8cd1c1';\r\nlet page = 1;\r\n\r\nexport default class ApiService {\r\n  constructor() {}\r\n\r\n  async fetchByQuery(query) {\r\n    try {\r\n      const response = await fetch(\r\n        `${BASE_URL}?image_type=photo&orientation=horizontal&q=${query}&page=${page}&per_page=12&key=${KEY}`,\r\n      );\r\n      const data = await response.json();\r\n      page++;\r\n      return data;\r\n    } catch (error) {\r\n      console.log('error', error);\r\n    }\r\n  }\r\n  resetPage() {\r\n    page = 1;\r\n  }\r\n}\r\n","import './styles.css';\r\nimport ApiService from './js/apiService';\r\nimport { debounce } from 'lodash';\r\nimport imgTemplate from './templates/renderImg.hbs';\r\n\r\nconst refs = {\r\n  input: document.querySelector('[name=\"query\"]'),\r\n  ulGalleryRef: document.querySelector('.gallery'),\r\n  loadMoreBtn: document.querySelector('.loadMoreBtn'),\r\n};\r\n\r\nconst apiService = new ApiService();\r\n\r\nrefs.input.addEventListener('input', debounce(onInputHandle, 500));\r\n\r\nasync function onInputHandle() {\r\n  refs.ulGalleryRef.innerHTML = '';\r\n  apiService.resetPage();\r\n  if (refs.input.value !== '') {\r\n    refs.loadMoreBtn.classList.remove('hiddenBtn');\r\n  } else {\r\n    refs.ulGalleryRef.innerHTML = '';\r\n    refs.loadMoreBtn.classList.add('hiddenBtn');\r\n    return (refs.ulGalleryRef.innerHTML = 'Input something!');\r\n  }\r\n  const response = await apiService.fetchByQuery(refs.input.value);\r\n  const images = response.hits;\r\n  renderImages(images);\r\n}\r\n\r\nfunction renderImages(images) {\r\n  const imgCardsMarkup = document.createElement('div');\r\n  imgCardsMarkup.classList.add('imgCardsMarkup');\r\n  images.forEach(image => {\r\n    imgCardsMarkup.insertAdjacentHTML('beforeend', imgTemplate(image));\r\n  });\r\n\r\n  refs.ulGalleryRef.append(imgCardsMarkup);\r\n}\r\n\r\nrefs.loadMoreBtn.addEventListener('click', onLoadMoreBtnClick);\r\n\r\nasync function onLoadMoreBtnClick() {\r\n  const response = await apiService.fetchByQuery(refs.input.value);\r\n  const images = response.hits;\r\n  renderImages(images);\r\n}\r\n","var Handlebars = require(\"../../node_modules/handlebars/runtime.js\");\nfunction __default(obj) { return obj && (obj.__esModule ? obj[\"default\"] : obj); }\nmodule.exports = (Handlebars[\"default\"] || Handlebars).template({\"compiler\":[8,\">= 4.3.0\"],\"main\":function(container,depth0,helpers,partials,data) {\n    var helper, alias1=depth0 != null ? depth0 : (container.nullContext || {}), alias2=container.hooks.helperMissing, alias3=\"function\", alias4=container.escapeExpression, lookupProperty = container.lookupProperty || function(parent, propertyName) {\n        if (Object.prototype.hasOwnProperty.call(parent, propertyName)) {\n          return parent[propertyName];\n        }\n        return undefined\n    };\n\n  return \"<div class=\\\"photo-card\\\">\\r\\n    <img src=\\\"\"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"webformatURL\") || (depth0 != null ? lookupProperty(depth0,\"webformatURL\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"webformatURL\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":2,\"column\":14},\"end\":{\"line\":2,\"column\":30}}}) : helper)))\n    + \"\\\" alt=\\\"\\\" width=\\\"620px\\\" />\\r\\n\\r\\n    <div class=\\\"stats\\\">\\r\\n        <p class=\\\"stats-item\\\">\\r\\n            <i class=\\\"material-icons\\\">thumb_up</i>\\r\\n            \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"likes\") || (depth0 != null ? lookupProperty(depth0,\"likes\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"likes\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":7,\"column\":12},\"end\":{\"line\":7,\"column\":21}}}) : helper)))\n    + \"\\r\\n        </p>\\r\\n        <p class=\\\"stats-item\\\">\\r\\n            <i class=\\\"material-icons\\\">visibility</i>\\r\\n            \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"views\") || (depth0 != null ? lookupProperty(depth0,\"views\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"views\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":11,\"column\":12},\"end\":{\"line\":11,\"column\":21}}}) : helper)))\n    + \"\\r\\n        </p>\\r\\n        <p class=\\\"stats-item\\\">\\r\\n            <i class=\\\"material-icons\\\">comment</i>\\r\\n            \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"comments\") || (depth0 != null ? lookupProperty(depth0,\"comments\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"comments\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":15,\"column\":12},\"end\":{\"line\":15,\"column\":24}}}) : helper)))\n    + \"\\r\\n        </p>\\r\\n        <p class=\\\"stats-item\\\">\\r\\n            <i class=\\\"material-icons\\\">cloud_download</i>\\r\\n            \"\n    + alias4(((helper = (helper = lookupProperty(helpers,\"downloads\") || (depth0 != null ? lookupProperty(depth0,\"downloads\") : depth0)) != null ? helper : alias2),(typeof helper === alias3 ? helper.call(alias1,{\"name\":\"downloads\",\"hash\":{},\"data\":data,\"loc\":{\"start\":{\"line\":19,\"column\":12},\"end\":{\"line\":19,\"column\":25}}}) : helper)))\n    + \"\\r\\n        </p>\\r\\n    </div>\\r\\n</div>\";\n},\"useData\":true});"],"sourceRoot":""}